---
import Layout from "../layouts/Layout.astro";
import ColabCard from "../components/Colab_card.astro";
import Alert from "../components/Alert.astro";

import { getCollection } from "astro:content";
const projects = await getCollection("projects");
const contributors = await getCollection("contributors");
---

<Layout title="Kukulc4n â€¢ Home">
  <Alert />
  <div class="conteiner text-center p-4 gap-4">
    <p class="p-4">Projects:</p>
    <div
      class="lg:flex lg:felx-row md:flex md:flex-wrap flex flex-wrap place-self-center p-2 gap-4"
    >
      {
        projects.map((project) => {
          const { slug, data } = project;
          const { title, done_by, tec_use } = data;
          return (
            <a
              href={`/Projects/${slug}`}
              class="min-w-min max-w-fit bg-blue-400 gap-2 p-1 border-2 rounded-lg"
            >
              <h2>{title}</h2>
              <p>By: {done_by}</p>
              <p>{tec_use}</p>
            </a>
          );
        })
      }
    </div>
  </div>
  <div class="conteiner">
    <p id="Contributors" class="p-4">Contributors:</p>
    {
      contributors.map((contributor) => {
        const { slug, data } = contributor;
        const { colab_name, tec, email, user_img } = data;
        return (
          <ColabCard
            colab_name={colab_name}
            handle_tec={tec}
            colab_email={email}
            colab_img={user_img}
          />
        );
      })
    }
  </div>
</Layout>
