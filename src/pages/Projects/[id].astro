---
import ProjectCard from "../../components/Project_card.astro";
import Layout from "../../layouts/Layout.astro";
import { getCollection, render } from "astro:content";

export async function getStaticPaths() {
    const projects = await getCollection("projects");
    return projects.map((project) => ({
        params: {
            id: project.slug,
        },
        props: {
            project,
        },
    }));
}
const images = import.meta.glob<{ default: ImageMetadata }>(
    "/src/assets/*.{jpeg,jpg,png,gif}",
);

const { project } = Astro.props;
const { data } = project;
const { p_name, m_by, t_use } = data;
const { Content } = await render(project);
export const prerender = true;
---

<Layout title=`Kukulc4n â€¢ Projects-${data.p_name}`>
    <ProjectCard
        project_name={p_name}
        made_by={m_by}
        tec_use={t_use}
        imagePath={`/src/assets/${project.slug}.png`}
        content={Content}
    />
    <Content />
</Layout>
